<!DOCTYPE html>
<html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-32262555-5"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-32262555-5');
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />

    <title>Cookie-Editor - The Best Cookie Editor for Chrome and Firefox</title>
    <link href="style/main.css" rel="stylesheet" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <header id="main-header">
        <div class="overlay"></div>
        <div class="wrapper">
            <img src="img/cookie-filled.svg" id="logo" />
            <h1>Cookie-Editor</h1>
            <h2>Simple, yet Powerful Browser Extension</h2>
            <a href="#download" class="btn-cta" id="download-cta">Install Now</a>
        </div>
    </header>

    <nav id="main-nav">
        <div class="mobile">
            <div class="hamburger">
                <svg class="icon"><use xlink:href="img/fa-solid.svg#bars"></use></svg>
            </div>
            <img src="img/cookie-filled.svg" />
            <h2>Cookie-Editor</h2>
        </div>
        <ul id="nav-list">
            <li>
                <a href="#access">Features</a>
            </li>
            <li>
                <a href="#download">Download</a>
            </li>
            <li>
                <a href="#source-code">Source Code</a>
            </li>
            <li>
                <a href="#suggestions">Suggestions</a>
            </li>
        </ul>
    </nav>

    <div id="main-content">
        <div id="access" class="block" >
            <h2>Develop Faster, Save Time</h2>
            <div id="access-list">
                <div>
                    <img src="img/from-toolbar.png" />
                    <div class="description">From your Toolbar</div>
                </div>
                <div>
                    <img src="img/from-devtools.png" />
                    <div class="description">From your DevTools</div>
                </div>
                <div>
                    <img src="img/from-android.png" />
                    <div class="description">From your Phone</div>
                </div>
            </div>
        </div>

        <div id="features" class="block" >
            <h2>Simply the Best Cookie Editor</h2>
            <div class="grid">
                <div>
                    <a class="img-preview">
                        <img src="img/cookie-list.png" />
                    </a>
                    <div class="description">
                        View a list of all the cookies
                    </div>
                </div>
                <div>
                    <a class="img-preview">
                        <img src="img/cookie-add.png" />
                    </a>
                    <div class="description">
                        Create a new Cookie
                    </div>
                </div>
                <div>
                    <a class="img-preview">
                        <img src="img/cookie-edit.png" />
                    </a>
                    <div class="description">
                        Edit an existing cookie
                    </div>
                </div>
                <div>
                    <a class="img-preview">
                        <img src="img/cookie-delete.png" />
                    </a>
                    <div class="description">
                        Delete one or all cookies
                    </div>
                </div>
                <div>
                    <a class="img-preview">
                        <img src="img/cookie-import.png" />
                    </a>
                    <div class="description">
                        Export and Import Cookies
                    </div>
                </div>
            </div>
        </div>

        <div id="download" class="block" >
            <h2>Download</h2>
            <p>
                 Cookie-Editor is available on Google Chrome, Firefox and Firefox for Android. It will soon be available on Opera.
                <div id="browser-install-list">
                    <div>
                        <img src="img/chrome-logo.svg" alt="Chrome" />
                        <a href="https://chrome.google.com/webstore/detail/cookie-editor/hlkenndednhfkekhgcdicdfddnkalmdm" class="btn-cta">
                            Chrome
                        </a>
                    </div>
                    <div>
                        <img src="img/firefox-logo.svg" alt="Firefox" />
                        <a href="https://addons.mozilla.org/addon/cookie-editor?src=external-cookie-editor.cgagnier.ca" class="btn-cta">
                            Firefox
                        </a>
                    </div>
                    <div>
                        <img src="img/opera-logo.svg" alt="Opera" />
                        <div class="coming-soon">Coming Soon!</div>
                        <a href="#" class="btn-cta disabled">
                            Opera
                        </a>
                    </div>
                </div>
            </p>
        </div>

        <div id="source-code" class="block">
            <div id="github-block">
                    <svg class="github-logo"><use xlink:href="img/github-logo.svg#github"></use></svg>
                <div>
                    <h3>
                        <a href="https://github.com/moustachauve/" title="Moustachauve's Github Profile">Moustachauve</a> 
                        / 
                        <a href="https://github.com/moustachauve/cookie-editor" title="Cookie-Editor repository">Cookie-Editor</a>
                    </h3>
                    <p>
                        You can find the source code of this project on Github. Feel free to contribute as you desire to the project. All the
                        help is appreciated.
                    </p>
                </div>
            </div>
        </div>
        <div id="suggestions" class="block">
            <h2>Suggestions or Bug Report</h2>
            <div id="suggestions-block">
                <div class="text">
                    <p>
                        Please create an issue on the Github issue tracker for any suggestion or bug report. It will be resolved as fast as possible.
                    </p>
                    <a href="https://github.com/Moustachauve/cookie-editor/issues/new" class="btn-cta btn-sm">
                        <svg><use xlink:href="img/github-logo.svg#github"></use></svg>Create an Issue
                    </a>
                </div>
                <div class="image">
                    <svg><use xlink:href="img/fa-solid.svg#bug"></use></svg>
                </div>
            </div>
        </div>

        <footer class="block">
            <p>
                Cookie-Editor by <a href="https://cgagnier.ca/" title="Personal Site">Christophe Gagnier</a>, known as 
                <a href="https://github.com/Moustachauve/" title="Github Profile">
                    <svg class="github-logo"><use xlink:href="img/github-logo.svg#github"></use></svg>Moustachauve
                </a>
            </p>
        </footer>
    </div>

    <div id="img-preview">
	    <div class="container">
		    <img src="" />
		    <div class="description"></div>
	    </div>
    </div>

    <script>
	    var imgPreview = document.getElementById('img-preview');
        var navList = document.getElementById('nav-list');

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        document.querySelectorAll('a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (anchor.href.indexOf(window.location.href) > -1) {
                    return;
                }

                trackOutboundLink(anchor.href);
            });
        });

        document.querySelectorAll('.img-preview').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                var parent = e.target.closest('div');
                var imgUrl = parent.querySelector('img').src;
                var description = parent.querySelector('.description').textContent.trim();

                imgPreview.querySelector('img').src = imgUrl;
                imgPreview.querySelector('.description').textContent = description;
                imgPreview.classList.add('visible');

                ga('send', {
                    hitType: 'event',
                    eventCategory: 'image-preview',
                    eventAction: 'view',
                    eventLabel: description
                });
            });
        });

        document.querySelector('.hamburger').addEventListener('click', function (e) {
            navList.classList.toggle('open');
        });

        navList.addEventListener('click', function (e) {
            navList.classList.remove('open');
        });

        imgPreview.addEventListener('click', function (e) {
            if (e.target !== imgPreview) {
                return;
            }
            hideImgPreview();
        });

        imgPreview.addEventListener('transitionend', function (e) {
            console.log('transition over');
            if (imgPreview.classList.contains('hiding')) {
                imgPreview.classList.remove('hiding');
            }
        });

        document.getElementById('download-cta').addEventListener("click", function () {
            ga('send', {
                hitType: 'event',
                eventCategory: 'download-cta',
                eventAction: 'click',
                eventLabel: 'Big Button'
            });
        });

        document.getElementById('download-cta').addEventListener("click", function () {
            ga('send', {
                hitType: 'event',
                eventCategory: 'download-cta',
                eventAction: 'click',
                eventLabel: 'Big Button'
            });
        });

        document.getElementById('nav-list').querySelectorAll('a').forEach(anchor => {
			anchor.addEventListener('click', function () {
                ga('send', {
                    hitType: 'event',
                    eventCategory: 'menu-item',
                    eventAction: 'click',
                    eventLabel: anchor.textContent
                });
            });
        });

	    function hideImgPreview() {
            imgPreview.classList.add('hiding');
            imgPreview.classList.remove('visible');
            ga('send', {
                hitType: 'event',
                eventCategory: 'image-preview',
                eventAction: 'dismiss',
                eventLabel: 'image'
            });
	    }

        function trackOutboundLink(url) {
            ga('send', {
                hitType: 'event',
                eventCategory: 'outbound',
                eventAction: 'click',
                eventLabel: url,
	            transport: 'beacon',
                hitCallback: function(){document.location = url;}
            });
        }
    </script>
    <script src="script/stickyHeader.js"></script>
</body>
</html>
